<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<configuration>
  <version>2</version>
  <repositoryScanning>
    <fileTypes>
      <fileType>
        <id>artifacts</id>
        <patterns>
          <pattern>**/*.pom</pattern>
          <pattern>**/*.jar</pattern>
          <pattern>**/*.ear</pattern>
          <pattern>**/*.war</pattern>
          <pattern>**/*.car</pattern>
          <pattern>**/*.sar</pattern>
          <pattern>**/*.mar</pattern>
          <pattern>**/*.rar</pattern>
          <pattern>**/*.dtd</pattern>
          <pattern>**/*.tld</pattern>
          <pattern>**/*.tar.gz</pattern>
          <pattern>**/*.tar.bz2</pattern>
          <pattern>**/*.zip</pattern>
        </patterns>
      </fileType>
      <fileType>
        <id>indexable-content</id>
        <patterns>
          <pattern>**/*.txt</pattern>
          <pattern>**/*.TXT</pattern>
          <pattern>**/*.block</pattern>
          <pattern>**/*.config</pattern>
          <pattern>**/*.pom</pattern>
          <pattern>**/*.xml</pattern>
          <pattern>**/*.xsd</pattern>
          <pattern>**/*.dtd</pattern>
          <pattern>**/*.tld</pattern>
        </patterns>
      </fileType>
      <fileType>
        <id>auto-remove</id>
        <patterns>
          <pattern>**/*.bak</pattern>
          <pattern>**/*~</pattern>
          <pattern>**/*-</pattern>
        </patterns>
      </fileType>
      <fileType>
        <id>ignored</id>
        <patterns>
          <pattern>**/.htaccess</pattern>
          <pattern>**/KEYS</pattern>
          <pattern>**/*.rb</pattern>
          <pattern>**/*.sh</pattern>
          <pattern>**/.svn/**</pattern>
          <pattern>**/.DAV/**</pattern>
          <pattern>.index/**</pattern>
          <pattern>.indexer/**</pattern>
        </patterns>
      </fileType>
    </fileTypes>
    <knownContentConsumers>
      <knownContentConsumer>create-missing-checksums</knownContentConsumer>
      <knownContentConsumer>validate-checksum</knownContentConsumer>
      <knownContentConsumer>validate-signature</knownContentConsumer>
      <knownContentConsumer>index-content</knownContentConsumer>
      <knownContentConsumer>auto-remove</knownContentConsumer>
      <knownContentConsumer>auto-rename</knownContentConsumer>
      <knownContentConsumer>metadata-updater</knownContentConsumer>
      <knownContentConsumer>create-archiva-metadata</knownContentConsumer>
      <knownContentConsumer>duplicate-artifacts</knownContentConsumer>
    </knownContentConsumers>
    <invalidContentConsumers>
      <invalidContentConsumer>update-db-bad-content</invalidContentConsumer>
    </invalidContentConsumers>
  </repositoryScanning>
  <webapp>
    <ui>
      <showFindArtifacts>true</showFindArtifacts>
      <appletFindEnabled>true</appletFindEnabled>
      <disableEasterEggs>false</disableEasterEggs>
      <disableRegistration>false</disableRegistration>
    </ui>
  </webapp>
  <networkConfiguration>
    <usePooling>true</usePooling>
  </networkConfiguration>
  <redbackRuntimeConfiguration>
    <migratedFromRedbackConfiguration>true</migratedFromRedbackConfiguration>
    <ldapConfiguration>
      <port>-1</port>
      <ssl>false</ssl>
      <contextFactory>com.sun.jndi.ldap.LdapCtxFactory</contextFactory>
      <bindAuthenticatorEnabled>false</bindAuthenticatorEnabled>
      <writable>false</writable>
      <useRoleNameAsGroup>false</useRoleNameAsGroup>
    </ldapConfiguration>
    <useUsersCache>true</useUsersCache>
    <usersCacheConfiguration>
      <timeToIdleSeconds>14400</timeToIdleSeconds>
      <timeToLiveSeconds>14400</timeToLiveSeconds>
      <maxElementsInMemory>1000</maxElementsInMemory>
      <maxElementsOnDisk>0</maxElementsOnDisk>
    </usersCacheConfiguration>
    <userManagerImpls>
      <userManagerImpl>jdo</userManagerImpl>
    </userManagerImpls>
    <rbacManagerImpls>
      <rbacManagerImpl>jdo</rbacManagerImpl>
    </rbacManagerImpls>
    <configurationProperties>
      <security>
        <policy>
          <password>
            <previous>
              <count>6</count>
            </previous>
            <expiration>
              <enabled>false</enabled>
            </expiration>
            <rule>
              <numericalcount>
                <minimum>1</minimum>
                <enabled>true</enabled>
              </numericalcount>
              <musthave>
                <enabled>true</enabled>
              </musthave>
              <nowhitespace>
                <enabled>true</enabled>
              </nowhitespace>
              <reuse>
                <enabled>true</enabled>
              </reuse>
              <alphacount>
                <minimum>1</minimum>
                <enabled>true</enabled>
              </alphacount>
              <characterlength>
                <minimum>1</minimum>
                <enabled>true</enabled>
                <maximum>24</maximum>
              </characterlength>
              <alphanumeric>
                <enabled>false</enabled>
              </alphanumeric>
            </rule>
          </password>
          <allowed>
            <login>
              <attempt>10</attempt>
            </login>
          </allowed>
          <unlockable>
            <accounts/>
          </unlockable>
        </policy>
        <rememberme>
          <enabled>true</enabled>
          <domain/>
          <timeout>365</timeout>
          <secure>false</secure>
          <path>/</path>
        </rememberme>
        <signon>
          <timeout>30</timeout>
        </signon>
      </security>
      <ldap>
        <config>
          <groups>
            <member>member</member>
            <class>posixgroup</class>
          </groups>
          <max>
            <result>
              <count>0</count>
            </result>
          </max>
          <mapper>
            <attribute>
              <fullname>givenName</fullname>
              <user>
                <object>
                  <class>inetOrgPerson</class>
                </object>
                <id>cn</id>
              </user>
              <email>mail</email>
              <password>userPassword</password>
            </attribute>
          </mapper>
          <user>
            <attribute>uid</attribute>
          </user>
        </config>
      </ldap>
      <email>
        <validation>
          <subject>Welcome to Archiva</subject>
          <timeout>2880</timeout>
          <required>true</required>
        </validation>
      </email>
      <redback>
        <default>
          <guest>guest</guest>
          <admin>admin</admin>
          <role>
            <guest>
              <id>guest</id>
            </guest>
          </role>
        </default>
      </redback>
    </configurationProperties>
  </redbackRuntimeConfiguration>
  <archivaRuntimeConfiguration>
    <fileLockConfiguration>
      <skipLocking>true</skipLocking>
    </fileLockConfiguration>
    <urlFailureCacheConfiguration>
      <timeToIdleSeconds>2700</timeToIdleSeconds>
      <timeToLiveSeconds>1800</timeToLiveSeconds>
      <maxElementsInMemory>1000</maxElementsInMemory>
      <maxElementsOnDisk>0</maxElementsOnDisk>
    </urlFailureCacheConfiguration>
  </archivaRuntimeConfiguration>
  <managedRepositories>
    <managedRepository>
      <location>/var/lib/archiva/repositories/internal</location>
      <releases>true</releases>
      <blockRedeployments>true</blockRedeployments>
      <snapshots>false</snapshots>
      <scanned>true</scanned>
      <daysOlder>30</daysOlder>
      <deleteReleasedSnapshots>false</deleteReleasedSnapshots>
      <skipPackedIndexCreation>false</skipPackedIndexCreation>
      <stageRepoNeeded>false</stageRepoNeeded>
      <id>internal</id>
      <name>Archiva Managed Internal Repository</name>
      <indexDir>/var/lib/archiva/repositories/internal/.indexer</indexDir>
    </managedRepository>
    <managedRepository>
      <location>/var/lib/archiva/repositories/snapshots</location>
      <releases>false</releases>
      <blockRedeployments>false</blockRedeployments>
      <snapshots>true</snapshots>
      <scanned>true</scanned>
      <refreshCronExpression>0 0\,30 * * * ?</refreshCronExpression>
      <daysOlder>30</daysOlder>
      <deleteReleasedSnapshots>false</deleteReleasedSnapshots>
      <skipPackedIndexCreation>false</skipPackedIndexCreation>
      <stageRepoNeeded>false</stageRepoNeeded>
      <id>snapshots</id>
      <name>Archiva Managed Snapshot Repository</name>
      <indexDir>/var/lib/archiva/repositories/snapshots/.indexer</indexDir>
    </managedRepository>
  </managedRepositories>
  <remoteRepositories>
    <remoteRepository>
      <url>http://repo.maven.apache.org/maven2</url>
      <downloadRemoteIndex>false</downloadRemoteIndex>
      <downloadRemoteIndexOnStartup>false</downloadRemoteIndexOnStartup>
      <id>central</id>
      <name>Central Repository</name>
    </remoteRepository>
  </remoteRepositories>
  <proxyConnectors>
    <proxyConnector>
      <order>1</order>
      <sourceRepoId>internal</sourceRepoId>
      <targetRepoId>central</targetRepoId>
      <proxyId/>
      <whiteListPatterns>
        <whiteListPattern>**/*</whiteListPattern>
      </whiteListPatterns>
      <policies>
        <releases>once</releases>
        <checksum>fix</checksum>
        <snapshots>never</snapshots>
        <cache-failures>yes</cache-failures>
      </policies>
      <disabled>false</disabled>
    </proxyConnector>
  </proxyConnectors>
  <legacyArtifactPaths>
    <legacyArtifactPath>
      <path>jaxen/jars/jaxen-1.0-FCS-full.jar</path>
      <artifact>jaxen:jaxen:1.0-FCS:full:jar</artifact>
    </legacyArtifactPath>
  </legacyArtifactPaths>
</configuration>